<tal:block i18n:domain="nive">
<div tal:condition="field.widget.hidden"
     tal:content="structure field.serialize(cstruct)">
</div>

<div tal:condition="not field.widget.hidden"
     class="row">
<div title="${field.description}"
     id="item-${field.name}" 
     class="${field.error and (field.widget.form.widget.error_class or field.widget.error_class)} control-group">

  <tal:block tal:condition="field.widget.category!='full-width'">
  <!-- mapping_item 3 column -->
  <div class="${field.widget.form.widget.settings.get('column1_css', 'span2')}">
    <label tal:condition="field.widget.category != 'structural'"
           tal:content="field.title"
           class="control-label ${'required' if field.required else ''} ${field.error and (field.widget.form.widget.error_class or field.widget.error_class)}"
           title="${field.description}"
           for="${field.oid}"></label>
  </div>
  <div class="${field.widget.form.widget.settings.get('column2_css', 'span7')}">
    <div class="controls">
      <span tal:replace="structure field.serialize(cstruct)"/>
      <span tal:condition="field.error"
            tal:repeat="msg field.error.messages()"
            class="help-inline">${msg}</span>
    </div>
  </div>
  <div class="${field.widget.form.widget.settings.get('column3_css', 'span3')}">
    <div tal:content="structure field.description" class="help-block"></div>
  </div>
  <!-- /mapping_item -->
  </tal:block>

  <tal:block tal:condition="field.widget.category=='full-width'">
  <!-- mapping_item 3 full width -->
  <div class="span12">
    <label tal:condition="field.widget.category != 'structural'"
           tal:content="field.title"
           class="control-label ${'required' if field.required else ''} ${field.error and (field.widget.form.widget.error_class or field.widget.error_class)}"
           title="${field.description}"
           for="${field.oid}"></label>
  </div>
  <div class="span12">
    <div class="controls">
      <span tal:replace="structure field.serialize(cstruct)"/>
      <span tal:condition="field.error"
            tal:repeat="msg field.error.messages()"
            class="help-inline">${msg}</span>
    </div>
  </div>
  <div class="span12">
    <div tal:content="structure field.description" class="help-block"></div>
  </div>
  <!-- /mapping_item -->
  </tal:block>

</div>
</div>

</tal:block>